App Router: Structure & Syntax

The App Router (introduced in Next.js 13) uses a File-System Based Router. This means the folders you create inside app/ directly determine the URL paths your users can visit.

1. Basic Routing

In the App Router, Folders define routes. Files (like page.js) define the UI for that route.
 * Nesting: To create a nested route (e.g., /dashboard/settings), you simply nest folders inside each other.

| Folder Structure | URL Path |
|---|---|
| app/page.js | / (Root) |
| app/about/page.js | /about |
| app/blog/first-post/page.js | /blog/first-post |

2. Dynamic Routing
When you don't know the exact segment name ahead of time (e.g., blog posts, product IDs), you use Dynamic Segments.

A. Standard Dynamic Segment [slug]
Wraps a folder name in square brackets.
 * Syntax: [folderName]
 * Example: app/blog/[slug]/page.js
 * Matches: /blog/hello-world, /blog/123
 * Accessing Data: The value (e.g., "hello-world") is passed to the page, layout, and route handler as the params prop.

B. Catch-All Segments [...slug]
Matches the current segment and any child segments.
 * Syntax: [...folderName]
 * Example: app/shop/[...slug]/page.js
 * Matches: /shop/clothes, /shop/clothes/tops, /shop/clothes/tops/t-shirts
 * Data: params.slug returns an array: ['clothes', 'tops', 't-shirts']

C. Optional Catch-All [[...slug]]
Same as Catch-All, but also matches the parent route without parameters.
 * Syntax: [[...folderName]] (Double brackets)
 * Example: app/shop/[[...slug]]/page.js
 * Matches: All of the above PLUS /shop (the base URL).

3. Organizational Routes (URL-Agnostic)
These conventions allow you to organize code without affecting the public URL.

A. Route Groups (group)
Prevents the folder name from being included in the URL path.
 * Syntax: Wrap folder in parentheses (name).
 * Use Case:
   * Organizing code (e.g., separating (marketing) pages from (dashboard) pages).
   * Multiple Root Layouts: You can give the (marketing) group its own layout.js and the (dashboard) group a completely different layout.js.
 * Example: app/(marketing)/about/page.js â†’ URL is just /about.

B. Private Folders _folder
Prevents the folder and all its children from being routable.
 * Syntax: Prefix folder with an underscore _name.
 * Use Case: Storing internal components, utility functions, or styles strictly co-located with a route, ensuring no one can accidentally visit /app/dashboard/_utils.

4. Advanced Routing Patterns
These patterns allow for complex UI hierarchies.

A. Parallel Routes @slot
Allows you to render multiple pages simultaneously in the same view (like a dashboard with distinct panels).
 * Syntax: @folderName (defined as "Slots").
 * How it works: Slots are passed as props to the parent layout.js.
 * Example:
   * app/layout.js
   * app/@analytics/page.js
   * app/@team/page.js
   * Result: The layout receives props.analytics and props.team and can render them side-by-side.

B. Intercepting Routes (.)folder
Allows you to load a route within the current layout (like a modal) while "soft navigating," but load the full standalone page on a hard refresh.
 * Syntax:
   * (.) Match same level
   * (..) Match one level up
 * Use Case: Clicking a photo in a feed opens it in a modal overlay (/photo/123), but refreshing the page shows the full photo page.
Next Step: Shall I generate the content for Special Files.md (page.js, layout.js, templates, loading)?


